<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Limpieza y optimización de los datos | EDA METODOS</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Limpieza y optimización de los datos | EDA METODOS" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Limpieza y optimización de los datos | EDA METODOS" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Jacobo Londoño, Jesus David Barrios, Samuel Chamorro" />


<meta name="date" content="2025-08-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploración-inicial.html"/>
<link rel="next" href="análisis-univariante.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Presentacion del problema</a></li>
<li class="chapter" data-level="2" data-path="carga-de-datos.html"><a href="carga-de-datos.html"><i class="fa fa-check"></i><b>2</b> Carga de datos</a></li>
<li class="chapter" data-level="3" data-path="exploración-inicial.html"><a href="exploración-inicial.html"><i class="fa fa-check"></i><b>3</b> Exploración inicial</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exploración-inicial.html"><a href="exploración-inicial.html#impresión-general-de-los-datos"><i class="fa fa-check"></i><b>3.1</b> Impresión general de los datos</a></li>
<li class="chapter" data-level="3.2" data-path="exploración-inicial.html"><a href="exploración-inicial.html#inspección-de-la-estructura"><i class="fa fa-check"></i><b>3.2</b> Inspección de la estructura</a></li>
<li class="chapter" data-level="3.3" data-path="exploración-inicial.html"><a href="exploración-inicial.html#dimensión-de-los-datos"><i class="fa fa-check"></i><b>3.3</b> Dimensión de los datos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="limpieza-y-optimización-de-los-datos.html"><a href="limpieza-y-optimización-de-los-datos.html"><i class="fa fa-check"></i><b>4</b> Limpieza y optimización de los datos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="limpieza-y-optimización-de-los-datos.html"><a href="limpieza-y-optimización-de-los-datos.html#optimización-de-los-datos"><i class="fa fa-check"></i><b>4.1</b> Optimización de los datos</a></li>
<li class="chapter" data-level="4.2" data-path="limpieza-y-optimización-de-los-datos.html"><a href="limpieza-y-optimización-de-los-datos.html#limpieza-de-los-datos"><i class="fa fa-check"></i><b>4.2</b> Limpieza de los datos</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="limpieza-y-optimización-de-los-datos.html"><a href="limpieza-y-optimización-de-los-datos.html#valores-faltantes"><i class="fa fa-check"></i><b>4.2.1</b> Valores faltantes</a></li>
<li class="chapter" data-level="4.2.2" data-path="limpieza-y-optimización-de-los-datos.html"><a href="limpieza-y-optimización-de-los-datos.html#valores-atípicos"><i class="fa fa-check"></i><b>4.2.2</b> Valores Atípicos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="análisis-univariante.html"><a href="análisis-univariante.html"><i class="fa fa-check"></i><b>5</b> Análisis univariante</a>
<ul>
<li class="chapter" data-level="5.1" data-path="análisis-univariante.html"><a href="análisis-univariante.html#variables-numéricas"><i class="fa fa-check"></i><b>5.1</b> Variables numéricas</a></li>
<li class="chapter" data-level="5.2" data-path="análisis-univariante.html"><a href="análisis-univariante.html#variables-categóricas"><i class="fa fa-check"></i><b>5.2</b> Variables categóricas</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="análisis-bivariante.html"><a href="análisis-bivariante.html"><i class="fa fa-check"></i><b>6</b> Análisis bivariante</a>
<ul>
<li class="chapter" data-level="6.1" data-path="análisis-bivariante.html"><a href="análisis-bivariante.html#variable-numérica-vs.-categórica"><i class="fa fa-check"></i><b>6.1</b> Variable numérica vs. categórica</a></li>
<li class="chapter" data-level="6.2" data-path="análisis-bivariante.html"><a href="análisis-bivariante.html#variable-numérica-vs.-numérica"><i class="fa fa-check"></i><b>6.2</b> Variable numérica vs. numérica</a></li>
<li class="chapter" data-level="6.3" data-path="análisis-bivariante.html"><a href="análisis-bivariante.html#variable-categórica-vs.-categórica"><i class="fa fa-check"></i><b>6.3</b> Variable categórica vs. categórica</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="análisis-multivariante.html"><a href="análisis-multivariante.html"><i class="fa fa-check"></i><b>7</b> Análisis multivariante</a>
<ul>
<li class="chapter" data-level="7.1" data-path="análisis-multivariante.html"><a href="análisis-multivariante.html#análisis-descriptivo-detallado-de-variables-numéricas"><i class="fa fa-check"></i><b>7.1</b> Análisis descriptivo detallado de variables numéricas</a></li>
<li class="chapter" data-level="7.2" data-path="análisis-multivariante.html"><a href="análisis-multivariante.html#análisis-multivariante-completo"><i class="fa fa-check"></i><b>7.2</b> Análisis multivariante completo</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="conclusiones.html"><a href="conclusiones.html"><i class="fa fa-check"></i><b>8</b> Conclusiones</a>
<ul>
<li class="chapter" data-level="8.1" data-path="conclusiones.html"><a href="conclusiones.html#conclusiones-preliminares"><i class="fa fa-check"></i><b>8.1</b> Conclusiones preliminares:</a></li>
<li class="chapter" data-level="8.2" data-path="conclusiones.html"><a href="conclusiones.html#conclusiones-post-análisis"><i class="fa fa-check"></i><b>8.2</b> Conclusiones post análisis</a></li>
<li class="chapter" data-level="8.3" data-path="conclusiones.html"><a href="conclusiones.html#próximos-pasos-recomendados"><i class="fa fa-check"></i><b>8.3</b> Próximos pasos recomendados:</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><a href="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><i class="fa fa-check"></i><b>9</b> Posibles formas de proceder con la solución de la problemática</a>
<ul>
<li class="chapter" data-level="9.1" data-path="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><a href="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html#preparación-de-datos-para-modelado"><i class="fa fa-check"></i><b>9.1</b> 1. Preparación de datos para modelado</a></li>
<li class="chapter" data-level="9.2" data-path="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><a href="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html#desarrollo-de-modelos-predictivos"><i class="fa fa-check"></i><b>9.2</b> 2. Desarrollo de modelos predictivos</a></li>
<li class="chapter" data-level="9.3" data-path="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><a href="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html#validación-y-evaluación"><i class="fa fa-check"></i><b>9.3</b> 3. Validación y evaluación</a></li>
<li class="chapter" data-level="9.4" data-path="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html"><a href="posibles-formas-de-proceder-con-la-solución-de-la-problemática.html#implementación-clínica"><i class="fa fa-check"></i><b>9.4</b> 4. Implementación clínica</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="presentacion-del-problema-1.html"><a href="presentacion-del-problema-1.html"><i class="fa fa-check"></i><b>10</b> Presentacion del problema</a></li>
<li class="chapter" data-level="11" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html"><i class="fa fa-check"></i><b>11</b> Nos quedamos solo con las 12 variables representativas</a>
<ul>
<li class="chapter" data-level="11.1" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html#variables-numéricas-1"><i class="fa fa-check"></i><b>11.1</b> Variables numéricas</a></li>
<li class="chapter" data-level="11.2" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html#variables-categóricas-1"><i class="fa fa-check"></i><b>11.2</b> Variables categóricas</a></li>
<li class="chapter" data-level="11.3" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html#numérica-vs.-categórica"><i class="fa fa-check"></i><b>11.3</b> Numérica vs. categórica</a></li>
<li class="chapter" data-level="11.4" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html#numérica-vs.-numérica"><i class="fa fa-check"></i><b>11.4</b> Numérica vs. numérica</a></li>
<li class="chapter" data-level="11.5" data-path="nos-quedamos-solo-con-las-12-variables-representativas.html"><a href="nos-quedamos-solo-con-las-12-variables-representativas.html#categórica-vs.-categórica"><i class="fa fa-check"></i><b>11.5</b> Categórica vs. categórica</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDA METODOS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="limpieza-y-optimización-de-los-datos" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Limpieza y optimización de los datos<a href="limpieza-y-optimización-de-los-datos.html#limpieza-y-optimización-de-los-datos" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="optimización-de-los-datos" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Optimización de los datos<a href="limpieza-y-optimización-de-los-datos.html#optimización-de-los-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En el conjunto de datos de cáncer de mama, hemos identificado que múltiples variables representan mediciones redundantes de las mismas características nucleares subyacentes, donde cada atributo principal se expresa a través de tres variantes estadísticas: la media (sufijo 1), el error estándar (sufijo 2) y el valor máximo (sufijo 3). Esta estructura crea redundancia sustancial, ya que las versiones de error estándar y valores máximos son derivadas directamente de las mediciones medias y no aportan información independiente sobre nuevas características biológicas. Para optimizar los procesos analíticos, evitando multicolinealidad y reduciendo dimensionalidad sin pérdida de información esencial, utilizaremos exclusivamente las siguientes 10 variables de media (sufijo 1) como representantes canónicas de cada atributo nuclear:</p>
<p>Variables representativas seleccionadas:</p>
<ul>
<li>radius1 → Representa: radius1, radius2, radius3</li>
<li>texture1 → Representa: texture1, texture2, texture3</li>
<li>perimeter1 → Representa: perimeter1, perimeter2, perimeter3</li>
<li>area1 → Representa: area1, area2, area3</li>
<li>smoothness1 → Representa: smoothness1, smoothness2, smoothness3</li>
<li>compactness1 → Representa: compactness1, compactness2, compactness3</li>
<li>concavity1 → Representa: concavity1, concavity2, concavity3</li>
<li>concave_points1 → Representa: concave_points1, concave_points2, concave_points3</li>
<li>symmetry1 → Representa: symmetry1, symmetry2, symmetry3</li>
<li>fractal_dimension1 → Representa: fractal_dimension1, fractal_dimension2, fractal_dimension3</li>
</ul>
<p>Este enfoque estratégico reduce el espacio de características de 30 a 10 variables clave, preservando el 100% de las características morfológicas fundamentales mientras mejora significativamente la eficiencia computacional.</p>
</div>
<div id="limpieza-de-los-datos" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Limpieza de los datos<a href="limpieza-y-optimización-de-los-datos.html#limpieza-de-los-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="valores-faltantes" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Valores faltantes<a href="limpieza-y-optimización-de-los-datos.html#valores-faltantes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En este inciso revisaremos los valores faltantes que contiene nuestro subconjunto de datos y propondremos una solución a esta problemática</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="limpieza-y-optimización-de-los-datos.html#cb35-1" tabindex="-1"></a><span class="fu">missmap</span>(df)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>De manera casi milagrosa nuestro subconjunto de datos no presenta ningún tipo de valores faltantes. Por lo que no será necesario modificar nuestro subconjunto con ninguna técnica.</p>
</div>
<div id="valores-atípicos" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Valores Atípicos<a href="limpieza-y-optimización-de-los-datos.html#valores-atípicos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En esta parte revisaremos aquellos valores atípicos que se pueden generar y le daremos un tratamiento adecuado para poder culminar</p>
<div id="revisión-de-las-variables-categóricas" class="section level4 hasAnchor" number="4.2.2.1">
<h4><span class="header-section-number">4.2.2.1</span> Revisión de las variables categóricas<a href="limpieza-y-optimización-de-los-datos.html#revisión-de-las-variables-categóricas" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="limpieza-y-optimización-de-los-datos.html#cb36-1" tabindex="-1"></a><span class="co"># Verificación de ID (IDs únicos)</span></span>
<span id="cb36-2"><a href="limpieza-y-optimización-de-los-datos.html#cb36-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;=== VERIFICACIÓN DE ID (IDENTIFICADORES) ===</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## === VERIFICACIÓN DE ID (IDENTIFICADORES) ===</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="limpieza-y-optimización-de-los-datos.html#cb38-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Total de observaciones:&quot;</span>, <span class="fu">nrow</span>(df), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Total de observaciones: 569</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="limpieza-y-optimización-de-los-datos.html#cb40-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;IDs únicos:&quot;</span>, <span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>ID)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## IDs únicos: 569</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="limpieza-y-optimización-de-los-datos.html#cb42-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;¿Hay IDs duplicados?&quot;</span>, <span class="fu">ifelse</span>(<span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>ID)) <span class="sc">==</span> <span class="fu">nrow</span>(df), <span class="st">&quot;NO&quot;</span>, <span class="st">&quot;SÍ&quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## ¿Hay IDs duplicados? NO</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="limpieza-y-optimización-de-los-datos.html#cb44-1" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>ID)) <span class="sc">!=</span> <span class="fu">nrow</span>(df)) {</span>
<span id="cb44-2"><a href="limpieza-y-optimización-de-los-datos.html#cb44-2" tabindex="-1"></a>  duplicados <span class="ot">&lt;-</span> df<span class="sc">$</span>ID[<span class="fu">duplicated</span>(df<span class="sc">$</span>ID)]</span>
<span id="cb44-3"><a href="limpieza-y-optimización-de-los-datos.html#cb44-3" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;IDs duplicados:&quot;</span>, <span class="fu">unique</span>(duplicados), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb44-4"><a href="limpieza-y-optimización-de-los-datos.html#cb44-4" tabindex="-1"></a>}</span>
<span id="cb44-5"><a href="limpieza-y-optimización-de-los-datos.html#cb44-5" tabindex="-1"></a></span>
<span id="cb44-6"><a href="limpieza-y-optimización-de-los-datos.html#cb44-6" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">=== VERIFICACIÓN DE Diagnosis (DIAGNÓSTICO) ===</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 
## === VERIFICACIÓN DE Diagnosis (DIAGNÓSTICO) ===</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="limpieza-y-optimización-de-los-datos.html#cb46-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Valores únicos en Diagnosis:&quot;</span>, <span class="fu">unique</span>(df<span class="sc">$</span>Diagnosis), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Valores únicos en Diagnosis: M B</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="limpieza-y-optimización-de-los-datos.html#cb48-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;¿Solo contiene M y B?&quot;</span>, <span class="fu">ifelse</span>(<span class="fu">all</span>(df<span class="sc">$</span>Diagnosis <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;B&quot;</span>)), <span class="st">&quot;SÍ&quot;</span>, <span class="st">&quot;NO&quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## ¿Solo contiene M y B? SÍ</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="limpieza-y-optimización-de-los-datos.html#cb50-1" tabindex="-1"></a><span class="co"># Tabla de frecuencias de diagnósticos</span></span>
<span id="cb50-2"><a href="limpieza-y-optimización-de-los-datos.html#cb50-2" tabindex="-1"></a>tabla_diagnostico <span class="ot">&lt;-</span> <span class="fu">table</span>(df<span class="sc">$</span>Diagnosis)</span>
<span id="cb50-3"><a href="limpieza-y-optimización-de-los-datos.html#cb50-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Distribución de diagnósticos:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Distribución de diagnósticos:</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="limpieza-y-optimización-de-los-datos.html#cb52-1" tabindex="-1"></a><span class="fu">print</span>(tabla_diagnostico)</span></code></pre></div>
<pre><code>## 
##   B   M 
## 357 212</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="limpieza-y-optimización-de-los-datos.html#cb54-1" tabindex="-1"></a><span class="co"># Porcentajes</span></span>
<span id="cb54-2"><a href="limpieza-y-optimización-de-los-datos.html#cb54-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Porcentajes:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Porcentajes:</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="limpieza-y-optimización-de-los-datos.html#cb56-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(<span class="fu">prop.table</span>(tabla_diagnostico) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## 
##     B     M 
## 62.74 37.26</code></pre>
<p>En este caso podemos observar que las variables categóricas no cuentan con valores atípicos ya que no hay ID repetidos y todos los diagnósticos están en la categoría permitida</p>
</div>
<div id="revisión-de-las-variables-numéricas" class="section level4 hasAnchor" number="4.2.2.2">
<h4><span class="header-section-number">4.2.2.2</span> Revisión de las variables numéricas<a href="limpieza-y-optimización-de-los-datos.html#revisión-de-las-variables-numéricas" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="limpieza-y-optimización-de-los-datos.html#cb58-1" tabindex="-1"></a><span class="co"># Seleccionar variables numéricas principales (excluyendo ID y Diagnosis)</span></span>
<span id="cb58-2"><a href="limpieza-y-optimización-de-los-datos.html#cb58-2" tabindex="-1"></a>variables_numericas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;radius1&quot;</span>, <span class="st">&quot;texture1&quot;</span>, <span class="st">&quot;perimeter1&quot;</span>, <span class="st">&quot;area1&quot;</span>, <span class="st">&quot;smoothness1&quot;</span>,</span>
<span id="cb58-3"><a href="limpieza-y-optimización-de-los-datos.html#cb58-3" tabindex="-1"></a>                        <span class="st">&quot;compactness1&quot;</span>, <span class="st">&quot;concavity1&quot;</span>, <span class="st">&quot;concave_points1&quot;</span>, <span class="st">&quot;symmetry1&quot;</span>, <span class="st">&quot;fractal_dimension1&quot;</span>)</span>
<span id="cb58-4"><a href="limpieza-y-optimización-de-los-datos.html#cb58-4" tabindex="-1"></a></span>
<span id="cb58-5"><a href="limpieza-y-optimización-de-los-datos.html#cb58-5" tabindex="-1"></a><span class="co"># Verificar que las variables existen</span></span>
<span id="cb58-6"><a href="limpieza-y-optimización-de-los-datos.html#cb58-6" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Variables seleccionadas para análisis de outliers:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Variables seleccionadas para análisis de outliers:&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="limpieza-y-optimización-de-los-datos.html#cb60-1" tabindex="-1"></a><span class="fu">print</span>(variables_numericas)</span></code></pre></div>
<pre><code>##  [1] &quot;radius1&quot;            &quot;texture1&quot;           &quot;perimeter1&quot;        
##  [4] &quot;area1&quot;              &quot;smoothness1&quot;        &quot;compactness1&quot;      
##  [7] &quot;concavity1&quot;         &quot;concave_points1&quot;    &quot;symmetry1&quot;         
## [10] &quot;fractal_dimension1&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="limpieza-y-optimización-de-los-datos.html#cb62-1" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;¿Existen en el dataset?&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;¿Existen en el dataset?&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="limpieza-y-optimización-de-los-datos.html#cb64-1" tabindex="-1"></a><span class="fu">print</span>(variables_numericas <span class="sc">%in%</span> <span class="fu">names</span>(df))</span></code></pre></div>
<pre><code>##  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="limpieza-y-optimización-de-los-datos.html#cb66-1" tabindex="-1"></a><span class="co"># Seleccionar solo las variables numéricas del dataset</span></span>
<span id="cb66-2"><a href="limpieza-y-optimización-de-los-datos.html#cb66-2" tabindex="-1"></a>datos_outliers <span class="ot">&lt;-</span> df[, variables_numericas, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb66-3"><a href="limpieza-y-optimización-de-los-datos.html#cb66-3" tabindex="-1"></a></span>
<span id="cb66-4"><a href="limpieza-y-optimización-de-los-datos.html#cb66-4" tabindex="-1"></a><span class="co"># Transformar datos a formato largo para el gráfico</span></span>
<span id="cb66-5"><a href="limpieza-y-optimización-de-los-datos.html#cb66-5" tabindex="-1"></a>datos_long <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(datos_outliers, <span class="at">variable.name =</span> <span class="st">&quot;Variable&quot;</span>, <span class="at">value.name =</span> <span class="st">&quot;Valor&quot;</span>)</span></code></pre></div>
<pre><code>## No id variables; using all as measure variables</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="limpieza-y-optimización-de-los-datos.html#cb68-1" tabindex="-1"></a><span class="co"># Crear boxplot para detectar outliers</span></span>
<span id="cb68-2"><a href="limpieza-y-optimización-de-los-datos.html#cb68-2" tabindex="-1"></a><span class="fu">ggplot</span>(datos_long, <span class="fu">aes</span>(<span class="at">x =</span> Variable, <span class="at">y =</span> Valor)) <span class="sc">+</span></span>
<span id="cb68-3"><a href="limpieza-y-optimización-de-los-datos.html#cb68-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.colour =</span> <span class="st">&quot;red&quot;</span>, <span class="at">outlier.size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb68-4"><a href="limpieza-y-optimización-de-los-datos.html#cb68-4" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Variable, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb68-5"><a href="limpieza-y-optimización-de-los-datos.html#cb68-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Detección de Valores Extremos por Variable&quot;</span>,</span>
<span id="cb68-6"><a href="limpieza-y-optimización-de-los-datos.html#cb68-6" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Los puntos rojos indican posibles outliers&quot;</span>,</span>
<span id="cb68-7"><a href="limpieza-y-optimización-de-los-datos.html#cb68-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Variables&quot;</span>,</span>
<span id="cb68-8"><a href="limpieza-y-optimización-de-los-datos.html#cb68-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Valores&quot;</span>) <span class="sc">+</span></span>
<span id="cb68-9"><a href="limpieza-y-optimización-de-los-datos.html#cb68-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb68-10"><a href="limpieza-y-optimización-de-los-datos.html#cb68-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Dada la presencia de escalas dispares y posibles valores atípicos en las variables numéricas, como se observa en los gráficos con puntos rojos desplazados hacia extremos superiores, se decidió aplicar una transformación logarítmica para estabilizar la varianza, reducir el impacto de los outliers y homogeneizar los rangos intercuartílicos, evitando así sesgos al omitir o reemplazar datos. Esta elección es adecuada porque los datos parecen positivos y asimétricos a la derecha, lo que sugiere una distribución que se beneficiaría de la compresión de valores grandes y la normalización relativa, alineándose con el objetivo de facilitar análisis estadísticos sin perder representatividad.</p>
<div id="solución-al-problema-con-las-variables-numéricas" class="section level5 hasAnchor" number="4.2.2.2.1">
<h5><span class="header-section-number">4.2.2.2.1</span> Solución al problema con las variables numéricas<a href="limpieza-y-optimización-de-los-datos.html#solución-al-problema-con-las-variables-numéricas" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="limpieza-y-optimización-de-los-datos.html#cb69-1" tabindex="-1"></a><span class="co"># Variables a transformar (variables numéricas principales)</span></span>
<span id="cb69-2"><a href="limpieza-y-optimización-de-los-datos.html#cb69-2" tabindex="-1"></a>variables_numericas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;radius1&quot;</span>, <span class="st">&quot;texture1&quot;</span>, <span class="st">&quot;perimeter1&quot;</span>, <span class="st">&quot;area1&quot;</span>, <span class="st">&quot;smoothness1&quot;</span>,</span>
<span id="cb69-3"><a href="limpieza-y-optimización-de-los-datos.html#cb69-3" tabindex="-1"></a>                        <span class="st">&quot;compactness1&quot;</span>, <span class="st">&quot;concavity1&quot;</span>, <span class="st">&quot;concave_points1&quot;</span>, <span class="st">&quot;symmetry1&quot;</span>, <span class="st">&quot;fractal_dimension1&quot;</span>)</span>
<span id="cb69-4"><a href="limpieza-y-optimización-de-los-datos.html#cb69-4" tabindex="-1"></a></span>
<span id="cb69-5"><a href="limpieza-y-optimización-de-los-datos.html#cb69-5" tabindex="-1"></a><span class="co"># Verificar si hay valores negativos o cero (problema para log)</span></span>
<span id="cb69-6"><a href="limpieza-y-optimización-de-los-datos.html#cb69-6" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;=== VERIFICACIÓN PREVIA A TRANSFORMACIÓN LOG ===</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## === VERIFICACIÓN PREVIA A TRANSFORMACIÓN LOG ===</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="limpieza-y-optimización-de-los-datos.html#cb71-1" tabindex="-1"></a><span class="cf">for</span>(var <span class="cf">in</span> variables_numericas) {</span>
<span id="cb71-2"><a href="limpieza-y-optimización-de-los-datos.html#cb71-2" tabindex="-1"></a>  min_val <span class="ot">&lt;-</span> <span class="fu">min</span>(df[[var]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb71-3"><a href="limpieza-y-optimización-de-los-datos.html#cb71-3" tabindex="-1"></a>  <span class="fu">cat</span>(var, <span class="st">&quot;- Valor mínimo:&quot;</span>, min_val, </span>
<span id="cb71-4"><a href="limpieza-y-optimización-de-los-datos.html#cb71-4" tabindex="-1"></a>      <span class="fu">ifelse</span>(min_val <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="st">&quot; ⚠️ PROBLEMA PARA LOG&quot;</span>, <span class="st">&quot; ✓ OK para LOG&quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb71-5"><a href="limpieza-y-optimización-de-los-datos.html#cb71-5" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## radius1 - Valor mínimo: 6.981  ✓ OK para LOG 
## texture1 - Valor mínimo: 9.71  ✓ OK para LOG 
## perimeter1 - Valor mínimo: 43.79  ✓ OK para LOG 
## area1 - Valor mínimo: 143.5  ✓ OK para LOG 
## smoothness1 - Valor mínimo: 0.05263  ✓ OK para LOG 
## compactness1 - Valor mínimo: 0.01938  ✓ OK para LOG 
## concavity1 - Valor mínimo: 0  ⚠️ PROBLEMA PARA LOG 
## concave_points1 - Valor mínimo: 0  ⚠️ PROBLEMA PARA LOG 
## symmetry1 - Valor mínimo: 0.106  ✓ OK para LOG 
## fractal_dimension1 - Valor mínimo: 0.04996  ✓ OK para LOG</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="limpieza-y-optimización-de-los-datos.html#cb73-1" tabindex="-1"></a><span class="co"># Crear datos transformados con log (solo si todos los valores son positivos)</span></span>
<span id="cb73-2"><a href="limpieza-y-optimización-de-los-datos.html#cb73-2" tabindex="-1"></a>datos_log <span class="ot">&lt;-</span> df</span>
<span id="cb73-3"><a href="limpieza-y-optimización-de-los-datos.html#cb73-3" tabindex="-1"></a><span class="cf">for</span>(var <span class="cf">in</span> variables_numericas) {</span>
<span id="cb73-4"><a href="limpieza-y-optimización-de-los-datos.html#cb73-4" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">min</span>(df[[var]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb73-5"><a href="limpieza-y-optimización-de-los-datos.html#cb73-5" tabindex="-1"></a>    datos_log[[<span class="fu">paste0</span>(var, <span class="st">&quot;_log&quot;</span>)]] <span class="ot">&lt;-</span> <span class="fu">log</span>(df[[var]])</span>
<span id="cb73-6"><a href="limpieza-y-optimización-de-los-datos.html#cb73-6" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb73-7"><a href="limpieza-y-optimización-de-los-datos.html#cb73-7" tabindex="-1"></a>    <span class="co"># Si hay valores &lt;= 0, usar log(x + constante)</span></span>
<span id="cb73-8"><a href="limpieza-y-optimización-de-los-datos.html#cb73-8" tabindex="-1"></a>    constante <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">min</span>(df[[var]])) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb73-9"><a href="limpieza-y-optimización-de-los-datos.html#cb73-9" tabindex="-1"></a>    datos_log[[<span class="fu">paste0</span>(var, <span class="st">&quot;_log&quot;</span>)]] <span class="ot">&lt;-</span> <span class="fu">log</span>(df[[var]] <span class="sc">+</span> constante)</span>
<span id="cb73-10"><a href="limpieza-y-optimización-de-los-datos.html#cb73-10" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Variable&quot;</span>, var, <span class="st">&quot;transformada con log(x +&quot;</span>, constante, <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb73-11"><a href="limpieza-y-optimización-de-los-datos.html#cb73-11" tabindex="-1"></a>  }</span>
<span id="cb73-12"><a href="limpieza-y-optimización-de-los-datos.html#cb73-12" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Variable concavity1 transformada con log(x + 1 )
## Variable concave_points1 transformada con log(x + 1 )</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="limpieza-y-optimización-de-los-datos.html#cb75-1" tabindex="-1"></a><span class="co"># Variables transformadas</span></span>
<span id="cb75-2"><a href="limpieza-y-optimización-de-los-datos.html#cb75-2" tabindex="-1"></a>variables_log <span class="ot">&lt;-</span> <span class="fu">paste0</span>(variables_numericas, <span class="st">&quot;_log&quot;</span>)</span>
<span id="cb75-3"><a href="limpieza-y-optimización-de-los-datos.html#cb75-3" tabindex="-1"></a></span>
<span id="cb75-4"><a href="limpieza-y-optimización-de-los-datos.html#cb75-4" tabindex="-1"></a><span class="co"># COMPARACIÓN: Datos originales vs transformados</span></span>
<span id="cb75-5"><a href="limpieza-y-optimización-de-los-datos.html#cb75-5" tabindex="-1"></a><span class="co"># Datos originales</span></span>
<span id="cb75-6"><a href="limpieza-y-optimización-de-los-datos.html#cb75-6" tabindex="-1"></a>datos_orig_long <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(df[, variables_numericas], </span>
<span id="cb75-7"><a href="limpieza-y-optimización-de-los-datos.html#cb75-7" tabindex="-1"></a>                                  <span class="at">variable.name =</span> <span class="st">&quot;Variable&quot;</span>, </span>
<span id="cb75-8"><a href="limpieza-y-optimización-de-los-datos.html#cb75-8" tabindex="-1"></a>                                  <span class="at">value.name =</span> <span class="st">&quot;Valor&quot;</span>)</span></code></pre></div>
<pre><code>## No id variables; using all as measure variables</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="limpieza-y-optimización-de-los-datos.html#cb77-1" tabindex="-1"></a>datos_orig_long<span class="sc">$</span>Tipo <span class="ot">&lt;-</span> <span class="st">&quot;Original&quot;</span></span>
<span id="cb77-2"><a href="limpieza-y-optimización-de-los-datos.html#cb77-2" tabindex="-1"></a></span>
<span id="cb77-3"><a href="limpieza-y-optimización-de-los-datos.html#cb77-3" tabindex="-1"></a><span class="co"># Datos transformados</span></span>
<span id="cb77-4"><a href="limpieza-y-optimización-de-los-datos.html#cb77-4" tabindex="-1"></a>datos_log_long <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(datos_log[, variables_log], </span>
<span id="cb77-5"><a href="limpieza-y-optimización-de-los-datos.html#cb77-5" tabindex="-1"></a>                                 <span class="at">variable.name =</span> <span class="st">&quot;Variable&quot;</span>, </span>
<span id="cb77-6"><a href="limpieza-y-optimización-de-los-datos.html#cb77-6" tabindex="-1"></a>                                 <span class="at">value.name =</span> <span class="st">&quot;Valor&quot;</span>)</span></code></pre></div>
<pre><code>## No id variables; using all as measure variables</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="limpieza-y-optimización-de-los-datos.html#cb79-1" tabindex="-1"></a><span class="co"># Quitar &quot;_log&quot; del nombre para comparación</span></span>
<span id="cb79-2"><a href="limpieza-y-optimización-de-los-datos.html#cb79-2" tabindex="-1"></a>datos_log_long<span class="sc">$</span>Variable <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;_log&quot;</span>, <span class="st">&quot;&quot;</span>, datos_log_long<span class="sc">$</span>Variable)</span>
<span id="cb79-3"><a href="limpieza-y-optimización-de-los-datos.html#cb79-3" tabindex="-1"></a>datos_log_long<span class="sc">$</span>Tipo <span class="ot">&lt;-</span> <span class="st">&quot;Log transformado&quot;</span></span>
<span id="cb79-4"><a href="limpieza-y-optimización-de-los-datos.html#cb79-4" tabindex="-1"></a></span>
<span id="cb79-5"><a href="limpieza-y-optimización-de-los-datos.html#cb79-5" tabindex="-1"></a><span class="co"># Combinar datos</span></span>
<span id="cb79-6"><a href="limpieza-y-optimización-de-los-datos.html#cb79-6" tabindex="-1"></a>datos_comparacion <span class="ot">&lt;-</span> <span class="fu">rbind</span>(datos_orig_long, datos_log_long)</span>
<span id="cb79-7"><a href="limpieza-y-optimización-de-los-datos.html#cb79-7" tabindex="-1"></a></span>
<span id="cb79-8"><a href="limpieza-y-optimización-de-los-datos.html#cb79-8" tabindex="-1"></a><span class="co"># Gráfico comparativo</span></span>
<span id="cb79-9"><a href="limpieza-y-optimización-de-los-datos.html#cb79-9" tabindex="-1"></a><span class="fu">ggplot</span>(datos_comparacion, <span class="fu">aes</span>(<span class="at">x =</span> Variable, <span class="at">y =</span> Valor, <span class="at">fill =</span> Tipo)) <span class="sc">+</span></span>
<span id="cb79-10"><a href="limpieza-y-optimización-de-los-datos.html#cb79-10" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.size =</span> <span class="dv">1</span>, <span class="at">outlier.alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb79-11"><a href="limpieza-y-optimización-de-los-datos.html#cb79-11" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Tipo <span class="sc">~</span> Variable, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-12"><a href="limpieza-y-optimización-de-los-datos.html#cb79-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Comparación: Datos Originales vs Transformación Logarítmica&quot;</span>,</span>
<span id="cb79-13"><a href="limpieza-y-optimización-de-los-datos.html#cb79-13" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;La transformación log reduce la dispersión y outliers&quot;</span>,</span>
<span id="cb79-14"><a href="limpieza-y-optimización-de-los-datos.html#cb79-14" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Variables&quot;</span>,</span>
<span id="cb79-15"><a href="limpieza-y-optimización-de-los-datos.html#cb79-15" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Valores&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-16"><a href="limpieza-y-optimización-de-los-datos.html#cb79-16" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb79-17"><a href="limpieza-y-optimización-de-los-datos.html#cb79-17" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb79-18"><a href="limpieza-y-optimización-de-los-datos.html#cb79-18" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Original&quot;</span> <span class="ot">=</span> <span class="st">&quot;lightcoral&quot;</span>, </span>
<span id="cb79-19"><a href="limpieza-y-optimización-de-los-datos.html#cb79-19" tabindex="-1"></a>                               <span class="st">&quot;Log transformado&quot;</span> <span class="ot">=</span> <span class="st">&quot;lightblue&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="limpieza-y-optimización-de-los-datos.html#cb80-1" tabindex="-1"></a><span class="co"># Estadísticas comparativas</span></span>
<span id="cb80-2"><a href="limpieza-y-optimización-de-los-datos.html#cb80-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">=== COMPARACIÓN DE OUTLIERS: ANTES Y DESPUÉS ===</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 
## === COMPARACIÓN DE OUTLIERS: ANTES Y DESPUÉS ===</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="limpieza-y-optimización-de-los-datos.html#cb82-1" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(variables_numericas)) {</span>
<span id="cb82-2"><a href="limpieza-y-optimización-de-los-datos.html#cb82-2" tabindex="-1"></a>  var_orig <span class="ot">&lt;-</span> variables_numericas[i]</span>
<span id="cb82-3"><a href="limpieza-y-optimización-de-los-datos.html#cb82-3" tabindex="-1"></a>  var_log <span class="ot">&lt;-</span> variables_log[i]</span>
<span id="cb82-4"><a href="limpieza-y-optimización-de-los-datos.html#cb82-4" tabindex="-1"></a>  </span>
<span id="cb82-5"><a href="limpieza-y-optimización-de-los-datos.html#cb82-5" tabindex="-1"></a>  <span class="co"># Outliers originales</span></span>
<span id="cb82-6"><a href="limpieza-y-optimización-de-los-datos.html#cb82-6" tabindex="-1"></a>  Q1_orig <span class="ot">&lt;-</span> <span class="fu">quantile</span>(df[[var_orig]], <span class="fl">0.25</span>)</span>
<span id="cb82-7"><a href="limpieza-y-optimización-de-los-datos.html#cb82-7" tabindex="-1"></a>  Q3_orig <span class="ot">&lt;-</span> <span class="fu">quantile</span>(df[[var_orig]], <span class="fl">0.75</span>)</span>
<span id="cb82-8"><a href="limpieza-y-optimización-de-los-datos.html#cb82-8" tabindex="-1"></a>  IQR_orig <span class="ot">&lt;-</span> Q3_orig <span class="sc">-</span> Q1_orig</span>
<span id="cb82-9"><a href="limpieza-y-optimización-de-los-datos.html#cb82-9" tabindex="-1"></a>  outliers_orig <span class="ot">&lt;-</span> <span class="fu">sum</span>(df[[var_orig]] <span class="sc">&lt;</span> (Q1_orig <span class="sc">-</span> <span class="fl">1.5</span><span class="sc">*</span>IQR_orig) <span class="sc">|</span> </span>
<span id="cb82-10"><a href="limpieza-y-optimización-de-los-datos.html#cb82-10" tabindex="-1"></a>                       df[[var_orig]] <span class="sc">&gt;</span> (Q3_orig <span class="sc">+</span> <span class="fl">1.5</span><span class="sc">*</span>IQR_orig))</span>
<span id="cb82-11"><a href="limpieza-y-optimización-de-los-datos.html#cb82-11" tabindex="-1"></a>  </span>
<span id="cb82-12"><a href="limpieza-y-optimización-de-los-datos.html#cb82-12" tabindex="-1"></a>  <span class="co"># Outliers transformados</span></span>
<span id="cb82-13"><a href="limpieza-y-optimización-de-los-datos.html#cb82-13" tabindex="-1"></a>  Q1_log <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos_log[[var_log]], <span class="fl">0.25</span>)</span>
<span id="cb82-14"><a href="limpieza-y-optimización-de-los-datos.html#cb82-14" tabindex="-1"></a>  Q3_log <span class="ot">&lt;-</span> <span class="fu">quantile</span>(datos_log[[var_log]], <span class="fl">0.75</span>)</span>
<span id="cb82-15"><a href="limpieza-y-optimización-de-los-datos.html#cb82-15" tabindex="-1"></a>  IQR_log <span class="ot">&lt;-</span> Q3_log <span class="sc">-</span> Q1_log</span>
<span id="cb82-16"><a href="limpieza-y-optimización-de-los-datos.html#cb82-16" tabindex="-1"></a>  outliers_log <span class="ot">&lt;-</span> <span class="fu">sum</span>(datos_log[[var_log]] <span class="sc">&lt;</span> (Q1_log <span class="sc">-</span> <span class="fl">1.5</span><span class="sc">*</span>IQR_log) <span class="sc">|</span> </span>
<span id="cb82-17"><a href="limpieza-y-optimización-de-los-datos.html#cb82-17" tabindex="-1"></a>                      datos_log[[var_log]] <span class="sc">&gt;</span> (Q3_log <span class="sc">+</span> <span class="fl">1.5</span><span class="sc">*</span>IQR_log))</span>
<span id="cb82-18"><a href="limpieza-y-optimización-de-los-datos.html#cb82-18" tabindex="-1"></a>  </span>
<span id="cb82-19"><a href="limpieza-y-optimización-de-los-datos.html#cb82-19" tabindex="-1"></a>  <span class="fu">cat</span>(var_orig, <span class="st">&quot;:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb82-20"><a href="limpieza-y-optimización-de-los-datos.html#cb82-20" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;  Outliers originales:&quot;</span>, outliers_orig, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb82-21"><a href="limpieza-y-optimización-de-los-datos.html#cb82-21" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;  Outliers después de log:&quot;</span>, outliers_log, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb82-22"><a href="limpieza-y-optimización-de-los-datos.html#cb82-22" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;  Reducción:&quot;</span>, outliers_orig <span class="sc">-</span> outliers_log, </span>
<span id="cb82-23"><a href="limpieza-y-optimización-de-los-datos.html#cb82-23" tabindex="-1"></a>      <span class="st">&quot;(&quot;</span>, <span class="fu">round</span>((outliers_orig <span class="sc">-</span> outliers_log)<span class="sc">/</span>outliers_orig <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>), <span class="st">&quot;%)</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb82-24"><a href="limpieza-y-optimización-de-los-datos.html#cb82-24" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## radius1 :
##   Outliers originales: 14 
##   Outliers después de log: 6 
##   Reducción: 8 ( 57.1 %)
## 
## texture1 :
##   Outliers originales: 7 
##   Outliers después de log: 2 
##   Reducción: 5 ( 71.4 %)
## 
## perimeter1 :
##   Outliers originales: 13 
##   Outliers después de log: 6 
##   Reducción: 7 ( 53.8 %)
## 
## area1 :
##   Outliers originales: 25 
##   Outliers después de log: 5 
##   Reducción: 20 ( 80 %)
## 
## smoothness1 :
##   Outliers originales: 6 
##   Outliers después de log: 5 
##   Reducción: 1 ( 16.7 %)
## 
## compactness1 :
##   Outliers originales: 16 
##   Outliers después de log: 1 
##   Reducción: 15 ( 93.8 %)
## 
## concavity1 :
##   Outliers originales: 18 
##   Outliers después de log: 14 
##   Reducción: 4 ( 22.2 %)
## 
## concave_points1 :
##   Outliers originales: 10 
##   Outliers después de log: 8 
##   Reducción: 2 ( 20 %)
## 
## symmetry1 :
##   Outliers originales: 15 
##   Outliers después de log: 9 
##   Reducción: 6 ( 40 %)
## 
## fractal_dimension1 :
##   Outliers originales: 15 
##   Outliers después de log: 11 
##   Reducción: 4 ( 26.7 %)</code></pre>
</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploración-inicial.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="análisis-univariante.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/rstudio/bookdown-demo/edit/master/index.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
