[["index.html", "EDA METODOS Chapter 1 Presentacion del problema", " EDA METODOS Jacobo Londoño, Jesus David Barrios, Samuel Chamorro 2025-08-13 Chapter 1 Presentacion del problema En el dia de hoy mi grupo y yo daremos solcuion a un problema el cual perturba muchos hogares al rededor del mundo el cual es el cancer de mama, aunque por limitaciones dadas por el curso realizaremos un EDA basados en subconjunto de datos que se nos presenta. Este proyecto se dividira en 8 fases: 1)Carga de datos 2)Exploración inicial 3)Limpieza de datos 4)Análisis univariante 5)Análisis bivariante 6)Análisis multivariante 7)Conclusiones 8)Posibles formas de proceder con la solucion de la problematica "],["carga-de-datos.html", "Chapter 2 Carga de datos", " Chapter 2 Carga de datos En esta parte del book realizaremos la importacion del subconjunto de datos y ilustararemos a groso modo el estado en el que se encuentran los datos url &lt;- &quot;https://raw.githubusercontent.com/jacob0900/EDAMetodos/main/wdbc.csv&quot; datos &lt;- read.csv(url, header = TRUE) ls() ## [1] &quot;datos&quot; &quot;url&quot; Despues de haber cargado el subconjunto de datos daramenos una organizacion y descripccion de las variables siempre recordando que nuestra piedra anugular de nuestro estudio es la variable “Diagnosis” # Cargar librerías necesarias para bookdown library(knitr) ## Warning: package &#39;knitr&#39; was built under R version 4.4.3 library(kableExtra) ## Warning: package &#39;kableExtra&#39; was built under R version 4.4.3 library(dplyr)# Manipulación de Datos ## ## Adjuntando el paquete: &#39;dplyr&#39; ## The following object is masked from &#39;package:kableExtra&#39;: ## ## group_rows ## The following objects are masked from &#39;package:stats&#39;: ## ## filter, lag ## The following objects are masked from &#39;package:base&#39;: ## ## intersect, setdiff, setequal, union library(ggplot2)# Visualización de datos library(readxl)# Importación de datos library(tibble)# Tablas library(readr)#Para cargar base de datos # Crear el data frame con la información de las variables tabla_variables &lt;- data.frame( Variable = c( &quot;ID&quot;, &quot;Diagnosis&quot;, &quot;radius1&quot;, &quot;texture1&quot;, &quot;perimeter1&quot;, &quot;area1&quot;, &quot;smoothness1&quot;, &quot;compactness1&quot;, &quot;concavity1&quot;, &quot;concave_points1&quot;, &quot;symmetry1&quot;, &quot;fractal_dimension1&quot;, &quot;radius2&quot;, &quot;texture2&quot;, &quot;perimeter2&quot;, &quot;area2&quot;, &quot;smoothness2&quot;, &quot;compactness2&quot;, &quot;concavity2&quot;, &quot;concave_points2&quot;, &quot;symmetry2&quot;, &quot;fractal_dimension2&quot;, &quot;radius3&quot;, &quot;texture3&quot;, &quot;perimeter3&quot;, &quot;area3&quot;, &quot;smoothness3&quot;, &quot;compactness3&quot;, &quot;concavity3&quot;, &quot;concave_points3&quot;, &quot;symmetry3&quot;, &quot;fractal_dimension3&quot; ), Tipo = c( &quot;Categórica nominal&quot;, &quot;Categórica nominal&quot;, rep(&quot;Numérica continua&quot;, 10), rep(&quot;Numérica continua&quot;, 10), rep(&quot;Numérica continua&quot;, 10) ), Definición = c( &quot;Identificador único de la muestra&quot;, &quot;Diagnóstico del tumor: Maligno (M) o Benigno (B)&quot;, &quot;Media de distancias desde el centro al perímetro del núcleo celular&quot;, &quot;Media de desviación estándar de valores de escala de grises&quot;, &quot;Media del perímetro del núcleo celular&quot;, &quot;Media del área del núcleo celular&quot;, &quot;Media de variación local en longitudes de radio&quot;, &quot;Media de compacidad (perímetro²/área - 1.0)&quot;, &quot;Media de severidad de porciones cóncavas del contorno&quot;, &quot;Media de número de porciones cóncavas del contorno&quot;, &quot;Media de simetría del núcleo celular&quot;, &quot;Media de dimensión fractal (&#39;aproximación a la costa&#39;)&quot;, &quot;Error estándar de distancias desde el centro al perímetro&quot;, &quot;Error estándar de desviación estándar de valores de escala de grises&quot;, &quot;Error estándar del perímetro del núcleo celular&quot;, &quot;Error estándar del área del núcleo celular&quot;, &quot;Error estándar de variación local en longitudes de radio&quot;, &quot;Error estándar de compacidad (perímetro²/área - 1.0)&quot;, &quot;Error estándar de severidad de porciones cóncavas del contorno&quot;, &quot;Error estándar de número de porciones cóncavas del contorno&quot;, &quot;Error estándar de simetría del núcleo celular&quot;, &quot;Error estándar de dimensión fractal (&#39;aproximación a la costa&#39;)&quot;, &quot;Mayor valor de distancias desde el centro al perímetro&quot;, &quot;Mayor valor de desviación estándar de valores de escala de grises&quot;, &quot;Mayor valor del perímetro del núcleo celular&quot;, &quot;Mayor valor del área del núcleo celular&quot;, &quot;Mayor valor de variación local en longitudes de radio&quot;, &quot;Mayor valor de compacidad (perímetro²/área - 1.0)&quot;, &quot;Mayor valor de severidad de porciones cóncavas del contorno&quot;, &quot;Mayor valor de número de porciones cóncavas del contorno&quot;, &quot;Mayor valor de simetría del núcleo celular&quot;, &quot;Mayor valor de dimensión fractal (&#39;aproximación a la costa&#39;)&quot; ), `Escala de Medición` = c( &quot;Nominal&quot;, &quot;Nominal&quot;, rep(&quot;Razón&quot;, 10), rep(&quot;Razón&quot;, 10), rep(&quot;Razón&quot;, 10) ), check.names = FALSE ) # Crear tabla formateada para bookdown kable(tabla_variables, caption = &quot;Descripción de Variables del Dataset WDBC (Wisconsin Diagnostic Breast Cancer)&quot;, booktabs = TRUE, longtable = TRUE) %&gt;% kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;), latex_options = c(&quot;striped&quot;, &quot;hold_position&quot;), full_width = FALSE, font_size = 10) %&gt;% column_spec(1, bold = TRUE, width = &quot;2.5cm&quot;) %&gt;% column_spec(2, width = &quot;3cm&quot;) %&gt;% column_spec(3, width = &quot;8cm&quot;) %&gt;% column_spec(4, width = &quot;2cm&quot;) Table 2.1: Table 2.2: Descripción de Variables del Dataset WDBC (Wisconsin Diagnostic Breast Cancer) Variable Tipo Definición Escala de Medición ID Categórica nominal Identificador único de la muestra Nominal Diagnosis Categórica nominal Diagnóstico del tumor: Maligno (M) o Benigno (B) Nominal radius1 Numérica continua Media de distancias desde el centro al perímetro del núcleo celular Razón texture1 Numérica continua Media de desviación estándar de valores de escala de grises Razón perimeter1 Numérica continua Media del perímetro del núcleo celular Razón area1 Numérica continua Media del área del núcleo celular Razón smoothness1 Numérica continua Media de variación local en longitudes de radio Razón compactness1 Numérica continua Media de compacidad (perímetro²/área - 1.0) Razón concavity1 Numérica continua Media de severidad de porciones cóncavas del contorno Razón concave_points1 Numérica continua Media de número de porciones cóncavas del contorno Razón symmetry1 Numérica continua Media de simetría del núcleo celular Razón fractal_dimension1 Numérica continua Media de dimensión fractal (‘aproximación a la costa’) Razón radius2 Numérica continua Error estándar de distancias desde el centro al perímetro Razón texture2 Numérica continua Error estándar de desviación estándar de valores de escala de grises Razón perimeter2 Numérica continua Error estándar del perímetro del núcleo celular Razón area2 Numérica continua Error estándar del área del núcleo celular Razón smoothness2 Numérica continua Error estándar de variación local en longitudes de radio Razón compactness2 Numérica continua Error estándar de compacidad (perímetro²/área - 1.0) Razón concavity2 Numérica continua Error estándar de severidad de porciones cóncavas del contorno Razón concave_points2 Numérica continua Error estándar de número de porciones cóncavas del contorno Razón symmetry2 Numérica continua Error estándar de simetría del núcleo celular Razón fractal_dimension2 Numérica continua Error estándar de dimensión fractal (‘aproximación a la costa’) Razón radius3 Numérica continua Mayor valor de distancias desde el centro al perímetro Razón texture3 Numérica continua Mayor valor de desviación estándar de valores de escala de grises Razón perimeter3 Numérica continua Mayor valor del perímetro del núcleo celular Razón area3 Numérica continua Mayor valor del área del núcleo celular Razón smoothness3 Numérica continua Mayor valor de variación local en longitudes de radio Razón compactness3 Numérica continua Mayor valor de compacidad (perímetro²/área - 1.0) Razón concavity3 Numérica continua Mayor valor de severidad de porciones cóncavas del contorno Razón concave_points3 Numérica continua Mayor valor de número de porciones cóncavas del contorno Razón symmetry3 Numérica continua Mayor valor de simetría del núcleo celular Razón fractal_dimension3 Numérica continua Mayor valor de dimensión fractal (‘aproximación a la costa’) Razón "],["exploración-inicial.html", "Chapter 3 Exploración inicial 3.1 Impresion general de los datos 3.2 Inspeccion la estructura 3.3 Dimension de los datos", " Chapter 3 Exploración inicial 3.1 Impresion general de los datos head(datos) ## X0 X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 ## 1 842302 M 17.99 10.38 122.80 1001.0 0.11840 0.27760 0.3001 0.14710 0.2419 ## 2 842517 M 20.57 17.77 132.90 1326.0 0.08474 0.07864 0.0869 0.07017 0.1812 ## 3 84300903 M 19.69 21.25 130.00 1203.0 0.10960 0.15990 0.1974 0.12790 0.2069 ## 4 84348301 M 11.42 20.38 77.58 386.1 0.14250 0.28390 0.2414 0.10520 0.2597 ## 5 84358402 M 20.29 14.34 135.10 1297.0 0.10030 0.13280 0.1980 0.10430 0.1809 ## 6 843786 M 12.45 15.70 82.57 477.1 0.12780 0.17000 0.1578 0.08089 0.2087 ## X11 X12 X13 X14 X15 X16 X17 X18 X19 X20 ## 1 0.07871 1.0950 0.9053 8.589 153.40 0.006399 0.04904 0.05373 0.01587 0.03003 ## 2 0.05667 0.5435 0.7339 3.398 74.08 0.005225 0.01308 0.01860 0.01340 0.01389 ## 3 0.05999 0.7456 0.7869 4.585 94.03 0.006150 0.04006 0.03832 0.02058 0.02250 ## 4 0.09744 0.4956 1.1560 3.445 27.23 0.009110 0.07458 0.05661 0.01867 0.05963 ## 5 0.05883 0.7572 0.7813 5.438 94.44 0.011490 0.02461 0.05688 0.01885 0.01756 ## 6 0.07613 0.3345 0.8902 2.217 27.19 0.007510 0.03345 0.03672 0.01137 0.02165 ## X21 X22 X23 X24 X25 X26 X27 X28 X29 X30 X31 ## 1 0.006193 25.38 17.33 184.60 2019.0 0.1622 0.6656 0.7119 0.2654 0.4601 0.11890 ## 2 0.003532 24.99 23.41 158.80 1956.0 0.1238 0.1866 0.2416 0.1860 0.2750 0.08902 ## 3 0.004571 23.57 25.53 152.50 1709.0 0.1444 0.4245 0.4504 0.2430 0.3613 0.08758 ## 4 0.009208 14.91 26.50 98.87 567.7 0.2098 0.8663 0.6869 0.2575 0.6638 0.17300 ## 5 0.005115 22.54 16.67 152.20 1575.0 0.1374 0.2050 0.4000 0.1625 0.2364 0.07678 ## 6 0.005082 15.47 23.75 103.40 741.6 0.1791 0.5249 0.5355 0.1741 0.3985 0.12440 ls() ## [1] &quot;datos&quot; &quot;tabla_variables&quot; &quot;url&quot; 3.2 Inspeccion la estructura str(datos) ## &#39;data.frame&#39;: 569 obs. of 32 variables: ## $ X0 : int 842302 842517 84300903 84348301 84358402 843786 844359 84458202 844981 84501001 ... ## $ X1 : chr &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; ... ## $ X2 : num 18 20.6 19.7 11.4 20.3 ... ## $ X3 : num 10.4 17.8 21.2 20.4 14.3 ... ## $ X4 : num 122.8 132.9 130 77.6 135.1 ... ## $ X5 : num 1001 1326 1203 386 1297 ... ## $ X6 : num 0.1184 0.0847 0.1096 0.1425 0.1003 ... ## $ X7 : num 0.2776 0.0786 0.1599 0.2839 0.1328 ... ## $ X8 : num 0.3001 0.0869 0.1974 0.2414 0.198 ... ## $ X9 : num 0.1471 0.0702 0.1279 0.1052 0.1043 ... ## $ X10: num 0.242 0.181 0.207 0.26 0.181 ... ## $ X11: num 0.0787 0.0567 0.06 0.0974 0.0588 ... ## $ X12: num 1.095 0.543 0.746 0.496 0.757 ... ## $ X13: num 0.905 0.734 0.787 1.156 0.781 ... ## $ X14: num 8.59 3.4 4.58 3.44 5.44 ... ## $ X15: num 153.4 74.1 94 27.2 94.4 ... ## $ X16: num 0.0064 0.00522 0.00615 0.00911 0.01149 ... ## $ X17: num 0.049 0.0131 0.0401 0.0746 0.0246 ... ## $ X18: num 0.0537 0.0186 0.0383 0.0566 0.0569 ... ## $ X19: num 0.0159 0.0134 0.0206 0.0187 0.0188 ... ## $ X20: num 0.03 0.0139 0.0225 0.0596 0.0176 ... ## $ X21: num 0.00619 0.00353 0.00457 0.00921 0.00511 ... ## $ X22: num 25.4 25 23.6 14.9 22.5 ... ## $ X23: num 17.3 23.4 25.5 26.5 16.7 ... ## $ X24: num 184.6 158.8 152.5 98.9 152.2 ... ## $ X25: num 2019 1956 1709 568 1575 ... ## $ X26: num 0.162 0.124 0.144 0.21 0.137 ... ## $ X27: num 0.666 0.187 0.424 0.866 0.205 ... ## $ X28: num 0.712 0.242 0.45 0.687 0.4 ... ## $ X29: num 0.265 0.186 0.243 0.258 0.163 ... ## $ X30: num 0.46 0.275 0.361 0.664 0.236 ... ## $ X31: num 0.1189 0.089 0.0876 0.173 0.0768 ... 3.3 Dimension de los datos dim(datos) ## [1] 569 32 "],["limpieza-y-optimizacion-de-los-datos.html", "Chapter 4 Limpieza y optimizacion de los datos 4.1 Optimizacion de los datos 4.2 Limpieza de los datos", " Chapter 4 Limpieza y optimizacion de los datos 4.1 Optimizacion de los datos En el conjunto de datos de cáncer de mama, hemos identificado que múltiples variables representan mediciones redundantes de las mismas características nucleares subyacentes, donde cada atributo principal se expresa a través de tres variantes estadísticas: la media (sufijo 1), el error estándar (sufijo 2) y el valor máximo (sufijo 3). Esta estructura crea redundancia sustancial, ya que las versiones de error estándar y valores máximos son derivadas directamente de las mediciones medias y no aportan información independiente sobre nuevas características biológicas. Para optimizar los procesos analíticos, evitando multicolinealidad y reduciendo dimensionalidad sin pérdida de información esencial, utilizaremos exclusivamente las siguientes 10 variables de media (sufijo 1) como representantes canónicas de cada atributo nuclear: Variables representativas seleccionadas: radius1 → Representa: radius1, radius2, radius3 texture1 → Representa: texture1, texture2, texture3 perimeter1 → Representa: perimeter1, perimeter2, perimeter3 area1 → Representa: area1, area2, area3 smoothness1 → Representa: smoothness1, smoothness2, smoothness3 compactness1 → Representa: compactness1, compactness2, compactness3 concavity1 → Representa: concavity1, concavity2, concavity3 concave_points1 → Representa: concave_points1, concave_points2, concave_points3 symmetry1 → Representa: symmetry1, symmetry2, symmetry3 fractal_dimension1 → Representa: fractal_dimension1, fractal_dimension2, fractal_dimension3 Este enfoque estratégico reduce el espacio de características de 30 a 10 variables clave, preservando el 100% de las características morfológicas fundamentales mientras mejora significativamente la eficiencia computacional. 4.2 Limpieza de los datos 4.2.1 Valores restantes En este insizo revisaremos los valores faltantes que contiene nuestro subconjunto de datos y propondremos una solucion a esta problematica library(Amelia) ## Warning: package &#39;Amelia&#39; was built under R version 4.4.3 ## Cargando paquete requerido: Rcpp ## ## ## ## Amelia II: Multiple Imputation ## ## (Version 1.8.3, built: 2024-11-07) ## ## Copyright (C) 2005-2025 James Honaker, Gary King and Matthew Blackwell ## ## Refer to http://gking.harvard.edu/amelia/ for more information ## ## missmap(datos) ls() ## [1] &quot;datos&quot; &quot;tabla_variables&quot; &quot;url&quot; De manera casi milagrosa nuestro subconjunto de datos no presenta ningun tipo de valores faltantes. Por lo que no sera nesesario modificar nuestro subconjunto con ninguna tecnica. 4.2.2 Valores Atipicos En esta parte revisaremos aquellos valores atipicos que se pueden generar y le daremos un tratamiento adecuado para poder culminar 4.2.2.1 Revision de la variables categoricas # Verificación de X0 (IDs únicos) cat(&quot;=== VERIFICACIÓN DE X0 (IDENTIFICADORES) ===\\n&quot;) ## === VERIFICACIÓN DE X0 (IDENTIFICADORES) === cat(&quot;Total de observaciones:&quot;, nrow(datos), &quot;\\n&quot;) ## Total de observaciones: 569 cat(&quot;IDs únicos:&quot;, length(unique(datos$X0)), &quot;\\n&quot;) ## IDs únicos: 569 cat(&quot;¿Hay IDs duplicados?&quot;, ifelse(length(unique(datos$X0)) == nrow(datos), &quot;NO&quot;, &quot;SÍ&quot;), &quot;\\n&quot;) ## ¿Hay IDs duplicados? NO if(length(unique(datos$X0)) != nrow(datos)) { duplicados &lt;- datos$X0[duplicated(datos$X0)] cat(&quot;IDs duplicados:&quot;, unique(duplicados), &quot;\\n&quot;) } cat(&quot;\\n=== VERIFICACIÓN DE X1 (DIAGNÓSTICO) ===\\n&quot;) ## ## === VERIFICACIÓN DE X1 (DIAGNÓSTICO) === cat(&quot;Valores únicos en X1:&quot;, unique(datos$X1), &quot;\\n&quot;) ## Valores únicos en X1: M B cat(&quot;¿Solo contiene M y B?&quot;, ifelse(all(datos$X1 %in% c(&quot;M&quot;, &quot;B&quot;)), &quot;SÍ&quot;, &quot;NO&quot;), &quot;\\n&quot;) ## ¿Solo contiene M y B? SÍ # Tabla de frecuencias de diagnósticos tabla_diagnostico &lt;- table(datos$X1) cat(&quot;Distribución de diagnósticos:\\n&quot;) ## Distribución de diagnósticos: print(tabla_diagnostico) ## ## B M ## 357 212 # Porcentajes cat(&quot;Porcentajes:\\n&quot;) ## Porcentajes: print(round(prop.table(tabla_diagnostico) * 100, 2)) ## ## B M ## 62.74 37.26 En este caso podemos obvservar que las variables categoricas no cuentan con valores atipicos ya que no hay ID repetidos y los todos diagnosticos estan en la categoria permitida 4.2.2.2 Revision de la variables numericas # Cargar librerías necesarias library(ggplot2) library(reshape2) ## Warning: package &#39;reshape2&#39; was built under R version 4.4.3 # Seleccionar columnas X2 a X11 (variables numéricas de media) variables_numericas &lt;- paste0(&quot;X&quot;, 2:11) # Verificar que las variables existen print(&quot;Variables seleccionadas para análisis de outliers:&quot;) ## [1] &quot;Variables seleccionadas para análisis de outliers:&quot; print(variables_numericas) ## [1] &quot;X2&quot; &quot;X3&quot; &quot;X4&quot; &quot;X5&quot; &quot;X6&quot; &quot;X7&quot; &quot;X8&quot; &quot;X9&quot; &quot;X10&quot; &quot;X11&quot; print(&quot;¿Existen en el dataset?&quot;) ## [1] &quot;¿Existen en el dataset?&quot; print(variables_numericas %in% names(datos)) ## [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE # Seleccionar solo las columnas X2-X11 del dataset datos_outliers &lt;- datos[, variables_numericas, drop = FALSE] # Transformar datos a formato largo para el gráfico datos_long &lt;- reshape2::melt(datos_outliers, variable.name = &quot;Variable&quot;, value.name = &quot;Valor&quot;) ## No id variables; using all as measure variables # Crear boxplot para detectar outliers ggplot(datos_long, aes(x = Variable, y = Valor)) + geom_boxplot(fill = &quot;lightblue&quot;, alpha = 0.7, outlier.colour = &quot;red&quot;, outlier.size = 1.5) + facet_wrap(~Variable, scales = &quot;free&quot;, ncol = 3) + labs(title = &quot;Detección de Valores Extremos por Variable (X2-X11)&quot;, subtitle = &quot;Los puntos rojos indican posibles outliers&quot;, x = &quot;Variables&quot;, y = &quot;Valores&quot;) + theme_minimal() + theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) Dada la presencia de escalas dispares (de 0.08 a 2500) y posibles valores atípicos en las variables (X2 a X11), como se observa en los gráficos con puntos rojos desplazados hacia extremos superiores, se decidió aplicar una transformación logarítmica para estabilizar la varianza, reducir el impacto de los outliers y homogeneizar los rangos intercuartílicos, evitando así sesgos al omitir o reemplazar datos. Esta elección es adecuada porque los datos parecen positivos y asimétricos a la derecha, lo que sugiere una distribución que se beneficiaría de la compresión de valores grandes y la normalización relativa, alineándose con el objetivo de facilitar análisis estadísticos sin perder representatividad. 4.2.2.2.1 Sulucion al problema con las variables numericas # Cargar librerías necesarias library(ggplot2) library(reshape2) library(gridExtra) ## Warning: package &#39;gridExtra&#39; was built under R version 4.4.3 ## ## Adjuntando el paquete: &#39;gridExtra&#39; ## The following object is masked from &#39;package:dplyr&#39;: ## ## combine # Variables a transformar (X2-X11) variables_numericas &lt;- paste0(&quot;X&quot;, 2:11) # Verificar si hay valores negativos o cero (problema para log) cat(&quot;=== VERIFICACIÓN PREVIA A TRANSFORMACIÓN LOG ===\\n&quot;) ## === VERIFICACIÓN PREVIA A TRANSFORMACIÓN LOG === for(var in variables_numericas) { min_val &lt;- min(datos[[var]], na.rm = TRUE) cat(var, &quot;- Valor mínimo:&quot;, min_val, ifelse(min_val &lt;= 0, &quot; ⚠️ PROBLEMA PARA LOG&quot;, &quot; ✓ OK para LOG&quot;), &quot;\\n&quot;) } ## X2 - Valor mínimo: 6.981 ✓ OK para LOG ## X3 - Valor mínimo: 9.71 ✓ OK para LOG ## X4 - Valor mínimo: 43.79 ✓ OK para LOG ## X5 - Valor mínimo: 143.5 ✓ OK para LOG ## X6 - Valor mínimo: 0.05263 ✓ OK para LOG ## X7 - Valor mínimo: 0.01938 ✓ OK para LOG ## X8 - Valor mínimo: 0 ⚠️ PROBLEMA PARA LOG ## X9 - Valor mínimo: 0 ⚠️ PROBLEMA PARA LOG ## X10 - Valor mínimo: 0.106 ✓ OK para LOG ## X11 - Valor mínimo: 0.04996 ✓ OK para LOG # Crear datos transformados con log (solo si todos los valores son positivos) datos_log &lt;- datos for(var in variables_numericas) { if(min(datos[[var]], na.rm = TRUE) &gt; 0) { datos_log[[paste0(var, &quot;_log&quot;)]] &lt;- log(datos[[var]]) } else { # Si hay valores &lt;= 0, usar log(x + constante) constante &lt;- abs(min(datos[[var]])) + 1 datos_log[[paste0(var, &quot;_log&quot;)]] &lt;- log(datos[[var]] + constante) cat(&quot;Variable&quot;, var, &quot;transformada con log(x +&quot;, constante, &quot;)\\n&quot;) } } ## Variable X8 transformada con log(x + 1 ) ## Variable X9 transformada con log(x + 1 ) # Variables transformadas variables_log &lt;- paste0(variables_numericas, &quot;_log&quot;) # COMPARACIÓN: Datos originales vs transformados # Datos originales datos_orig_long &lt;- reshape2::melt(datos[, variables_numericas], variable.name = &quot;Variable&quot;, value.name = &quot;Valor&quot;) ## No id variables; using all as measure variables datos_orig_long$Tipo &lt;- &quot;Original&quot; # Datos transformados datos_log_long &lt;- reshape2::melt(datos_log[, variables_log], variable.name = &quot;Variable&quot;, value.name = &quot;Valor&quot;) ## No id variables; using all as measure variables # Quitar &quot;_log&quot; del nombre para comparación datos_log_long$Variable &lt;- gsub(&quot;_log&quot;, &quot;&quot;, datos_log_long$Variable) datos_log_long$Tipo &lt;- &quot;Log transformado&quot; # Combinar datos datos_comparacion &lt;- rbind(datos_orig_long, datos_log_long) # Gráfico comparativo ggplot(datos_comparacion, aes(x = Variable, y = Valor, fill = Tipo)) + geom_boxplot(alpha = 0.7, outlier.size = 1, outlier.alpha = 0.6) + facet_grid(Tipo ~ Variable, scales = &quot;free&quot;) + labs(title = &quot;Comparación: Datos Originales vs Transformación Logarítmica&quot;, subtitle = &quot;La transformación log reduce la dispersión y outliers&quot;, x = &quot;Variables (X2-X11)&quot;, y = &quot;Valores&quot;) + theme_minimal() + theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) + scale_fill_manual(values = c(&quot;Original&quot; = &quot;lightcoral&quot;, &quot;Log transformado&quot; = &quot;lightblue&quot;)) # Estadísticas comparativas cat(&quot;\\n=== COMPARACIÓN DE OUTLIERS: ANTES Y DESPUÉS ===\\n&quot;) ## ## === COMPARACIÓN DE OUTLIERS: ANTES Y DESPUÉS === for(i in 1:length(variables_numericas)) { var_orig &lt;- variables_numericas[i] var_log &lt;- variables_log[i] # Outliers originales Q1_orig &lt;- quantile(datos[[var_orig]], 0.25) Q3_orig &lt;- quantile(datos[[var_orig]], 0.75) IQR_orig &lt;- Q3_orig - Q1_orig outliers_orig &lt;- sum(datos[[var_orig]] &lt; (Q1_orig - 1.5*IQR_orig) | datos[[var_orig]] &gt; (Q3_orig + 1.5*IQR_orig)) # Outliers transformados Q1_log &lt;- quantile(datos_log[[var_log]], 0.25) Q3_log &lt;- quantile(datos_log[[var_log]], 0.75) IQR_log &lt;- Q3_log - Q1_log outliers_log &lt;- sum(datos_log[[var_log]] &lt; (Q1_log - 1.5*IQR_log) | datos_log[[var_log]] &gt; (Q3_log + 1.5*IQR_log)) cat(var_orig, &quot;:\\n&quot;) cat(&quot; Outliers originales:&quot;, outliers_orig, &quot;\\n&quot;) cat(&quot; Outliers después de log:&quot;, outliers_log, &quot;\\n&quot;) cat(&quot; Reducción:&quot;, outliers_orig - outliers_log, &quot;(&quot;, round((outliers_orig - outliers_log)/outliers_orig * 100, 1), &quot;%)\\n\\n&quot;) } ## X2 : ## Outliers originales: 14 ## Outliers después de log: 6 ## Reducción: 8 ( 57.1 %) ## ## X3 : ## Outliers originales: 7 ## Outliers después de log: 2 ## Reducción: 5 ( 71.4 %) ## ## X4 : ## Outliers originales: 13 ## Outliers después de log: 6 ## Reducción: 7 ( 53.8 %) ## ## X5 : ## Outliers originales: 25 ## Outliers después de log: 5 ## Reducción: 20 ( 80 %) ## ## X6 : ## Outliers originales: 6 ## Outliers después de log: 5 ## Reducción: 1 ( 16.7 %) ## ## X7 : ## Outliers originales: 16 ## Outliers después de log: 1 ## Reducción: 15 ( 93.8 %) ## ## X8 : ## Outliers originales: 18 ## Outliers después de log: 14 ## Reducción: 4 ( 22.2 %) ## ## X9 : ## Outliers originales: 10 ## Outliers después de log: 8 ## Reducción: 2 ( 20 %) ## ## X10 : ## Outliers originales: 15 ## Outliers después de log: 9 ## Reducción: 6 ( 40 %) ## ## X11 : ## Outliers originales: 15 ## Outliers después de log: 11 ## Reducción: 4 ( 26.7 %) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
